<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>ENDEL DIGITAL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/perfect-scrollbar.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />
    <link defer rel="stylesheet" type="text/css" media="screen" href="assets/css/animate.css" />
    <link rel="stylesheet" href="assets/css/vms _css/Spot.css">
</head>

<body x-data="main" class="relative overflow-x-hidden font-nunito text-sm font-normal antialiased"
    :class="[ $store.app.sidebar ? 'toggle-sidebar' : '', $store.app.theme === 'dark' || $store.app.isDarkMode ?  'dark' : '', $store.app.menu, $store.app.layout,$store.app.rtlClass]">
    <!-- sidebar menu overlay -->
    <div id="sidebar-menu-overlay-container"></div>

    <!-- screen loader -->
    <div id="screen-loader-container"></div>

    <!-- scroll to top button -->
    <div id="scroll-to-topdown-container"></div>

    <!-- start theme customizer section -->
    <div id="theme-customizer-container"></div>
    <!-- end theme customizer section -->

    <div class="main-container min-h-screen text-black dark:text-white-dark" :class="[$store.app.navbar]">
        <!-- start sidebar section -->
        <div id="sidebar-container"></div>
        <!-- end sidebar section -->

        <div class="main-content flex min-h-screen flex-col">
            <!-- start header section -->
            <div id="header-container"></div>
            <!-- end header section -->

            <div class="dvanimation animate__animated p-6 flex-grow" :class="[$store.app.animation]">
                <!-- start main content section -->
                <div class="ml-64 p-0">
                    <div class="w-full max-w-2xl bg-white rounded-lg shadow-md p-0">
                        <div class="px-6 py-4 border-b text-xl font-semibold flex justify-between items-center">
                            <span>Visitor Registration Form</span>
                            <a href="SpotEntry.html" class="btn btn-sm btn-primary rounded-full">Back</a>
                        </div>
                        <form class="p-6 space-y-4" id="visitorForm" autocomplete="off">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="flex sm:flex-row flex-col">
                                    <label for="firstname"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">First
                                        Name</label>
                                    <input type="text" id="firstname" name="firstname" placeholder="Enter first name"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-firstname"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="lastname"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Last Name</label>
                                    <input type="text" id="lastname" name="lastname" placeholder="Enter last name"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-lastname"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="gender"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Gender</label>
                                    <select id="gender" name="gender"
                                        class="text-xs form-select w-1/3 border rounded px-3 py-2">
                                        <option value="">Select gender</option>
                                        <!-- Options will be populated dynamically -->
                                    </select>
                                    <span class="error text-xs text-red-500" id="error-gender"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="contactnumber"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Contact
                                        Number</label>
                                    <input type="text" id="contactnumber" name="contactnumber"
                                        placeholder="Enter contact number"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-contactnumber"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="email"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Email
                                        Address</label>
                                    <input type="email" id="email" name="email" placeholder="Enter email address"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-email"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="date"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Meeting
                                        Date</label>
                                    <input type="date" id="date" name="date"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-date"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="time"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Meeting
                                        Time</label>
                                    <input type="time" id="time" name="time"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-time"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="nationalid"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">National
                                        ID</label>
                                    <input type="text" id="nationalid" name="nationalid" placeholder="Enter national ID"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-nationalid"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="photo"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Visitor
                                        Photo</label>

                                    <input type="file" id="photo" name="photo" accept="image/*"
                                        onchange="previewImage(this, 'mainPreview')"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2 hidden" />

                                    <button type="button" class="w-1/3 mt-2 px-3 py-2 border rounded text-xs"
                                        onclick="showModal('photo')">Choose Photo</button>

                                    <span class="error text-xs text-red-500" id="error-photo"></span>

                                    <img id="mainPreview" class="photo-preview mt-2 rounded border" />
                                </div>

                                <div class="flex sm:flex-row flex-col">
                                    <label for="visit"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Purpose of
                                        Visit</label>
                                    <select id="visit" name="visit"
                                        class="text-xs form-select w-1/3 border rounded px-3 py-2">
                                        <option value="">Select purpose</option>
                                        <!-- Options will be populated dynamically -->
                                    </select>
                                    <span class="error text-xs text-red-500" id="error-visit"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="personname"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Person
                                        Name</label>
                                    <div class="relative w-1/3">
                                        <input type="text" id="personname" name="personname"
                                            placeholder="Enter name of person to meet"
                                            class="text-xs form-input w-full border rounded px-3 py-2"
                                            autocomplete="off" />
                                        <div id="personname-suggestions"
                                            class="absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto hidden">
                                        </div>
                                    </div>
                                    <span class="error text-xs text-red-500" id="error-personname"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="department"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Department</label>
                                    <input type="text" id="department" name="department"
                                        placeholder="Enter the visiting department"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" readonly />
                                    <span class="error text-xs text-red-500" id="error-department"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Expected
                                        Duration</label>
                                    <div class="flex w-1/3 space-x-2">
                                        <select id="durationunit" name="durationunit"
                                            class="text-xs form-select w-1/2 border rounded px-3 py-2">
                                            <option value="">Select unit</option>
                                            <!-- Options will be populated dynamically -->
                                        </select>
                                        <input type="number" id="durationtime" name="durationtime"
                                            placeholder="Enter expected duration"
                                            class="text-xs form-input w-1/2 border rounded px-3 py-2" min="1" />
                                    </div>
                                    <span class="error text-xs text-red-500" id="error-durationunit"></span>&nbsp; &nbsp;
                                    <span class="error text-xs text-red-500" id="error-durationtime"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="visitortype"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Visitor
                                        Type</label>
                                    <select id="visitortype" name="visitortype"
                                        class="text-xs form-select w-1/3 border rounded px-3 py-2">
                                        <option value="">Select visitor type</option>
                                        <!-- Options will be populated dynamically -->
                                    </select>
                                    <span class="error text-xs text-red-500" id="error-visitortype"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="vehicletype"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Vehicle
                                        Type</label>
                                    <input type="text" id="vehicletype" name="vehicletype"
                                        placeholder="Enter vehicle type"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-vehicletype"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label for="vehiclenumber"
                                        class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Vehicle
                                        Number</label>
                                    <input type="text" id="vehiclenumber" name="vehiclenumber"
                                        placeholder="Enter vehicle number"
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                    <span class="error text-xs text-red-500" id="error-vehiclenumber"></span>
                                </div>
                                <div class="flex sm:flex-row flex-col">
                                    <label class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Include
                                        Driver?</label>
                                    <input type="checkbox" id="driverToggle" onchange="toggleDriverDetails()"
                                        class="mt-1" />
                                    <span class="error text-xs text-red-500" id="error-driverToggle"></span>
                                </div>
                            </div>
                            <div id="driverDetails" class="hidden mt-4 space-y-4 border-t pt-4">
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div class="flex sm:flex-row flex-col">
                                        <label for="drivername"
                                            class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Driver
                                            Name</label>
                                        <input type="text" id="drivername" name="drivername"
                                            placeholder="Enter driver name"
                                            class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                        <span class="error text-xs text-red-500" id="error-drivername"></span>
                                    </div>
                                    <div class="flex sm:flex-row flex-col">
                                        <label for="drivermobile"
                                            class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Driver
                                            Mobile</label>
                                        <input type="text" id="drivermobile" name="drivermobile"
                                            placeholder="Enter driver mobile"
                                            class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                        <span class="error text-xs text-red-500" id="error-drivermobile"></span>
                                    </div>
                                    <div class="flex sm:flex-row flex-col">
                                        <label for="drivernationalid"
                                            class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Driver
                                            National ID</label>
                                        <input type="text" id="drivernationalid" name="drivernationalid"
                                            placeholder="Enter driver national ID"
                                            class="text-xs form-input w-1/3 border rounded px-3 py-2" />
                                        <span class="error text-xs text-red-500" id="error-drivernationalid"></span>
                                    </div>
                                    <div class="flex sm:flex-row flex-col">
                                        <label for="driverphoto"
                                            class="mb-0 sm:w-1/4 sm:ltr:mr-2 rtl:ml-2 text-sm font-medium">Driver
                                            Photo</label>

                                        <input type="file" id="driverphoto" name="driverphoto" accept="image/*"
                                            onchange="previewImage(this, 'driverPreview')"
                                            class="text-xs form-input w-1/3 border rounded px-3 py-2 hidden" />

                                        <button type="button" class="w-1/3 mt-2 px-3 py-2 border rounded text-xs"
                                            onclick="showModal('driverphoto')">Choose Photo</button>

                                        <span class="error text-xs text-red-500" id="error-driverphoto"></span>

                                        <img id="driverPreview" class="photo-preview mt-2 rounded border" />
                                    </div>

                                </div>
                            </div>
                            <div class="flex sm:flex-row flex-col items-center">
                                <label for="notes" class="sm:mb-0 mb-1 sm:mr-2 text-sm font-medium">Notes</label>
                                <div class="form-group">
                                    <textarea id="notes" name="notes" rows="1" placeholder="Enter any notes..."
                                        class="text-xs form-input w-1/3 border rounded px-3 py-2"></textarea>
                                    <span class="error text-xs text-red-500" id="error-notes"></span>
                                </div>
                            </div>
                            <button type="submit" id="submitBtn"
                                class="btn btn-outline-primary btn-sm rounded-full !mt-6">Create</button>
                        </form>
                    </div>
                </div>

                <!-- Modal for Gallery/Camera selection -->
                <div id="photoModal" class="modal">
                    <div class="modal-content">
                        <h3>Select Photo Source</h3>
                        <button class="gallery-btn" onclick="openGallery()">Gallery</button>
                        <button class="camera-btn" onclick="openCamera()">Camera</button>
                        <button class="close-btn" onclick="closeModal()">Close</button>
                    </div>
                </div>

                <!-- Modal for Camera Stream -->
                <div id="cameraModal" class="modal">
                    <div class="modal-content">
                        <h3>Capture Photo</h3>
                        <div id="cameraStreamContainer" class="flex flex-col items-center">
                            <video id="cameraPreview" class="w-48 h-36 rounded border" autoplay></video>
                            <div class="flex space-x-2 mt-2">
                                <button id="captureBtn" type="button" class="px-3 py-2 border rounded text-xs"
                                    onclick="capturePhoto(currentFileInputId)">Capture</button>

                                <button class="close-btn px-3 py-2 border rounded text-xs"
                                    onclick="closeCameraModal()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Hidden video element for camera preview -->
                <video id="cameraPreview" style="display: none;"></video>
                <canvas id="cameraCanvas" style="display: none;"></canvas>

                <!-- end main content section -->
            </div>
            <!-- start footer section -->
            <div id="footer-container"></div>
            <!-- end footer section -->
        </div>
    </div>
    <script src="signin-script.js"></script>
    <script src="assets/js/alpine-collaspe.min.js"></script>
    <script src="assets/js/alpine-persist.min.js"></script>
    <script defer src="assets/js/alpine-ui.min.js"></script>
    <script defer src="assets/js/alpine-focus.min.js"></script>
    <script defer src="assets/js/alpine.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="assets/js/main-content-script/Spot-script.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="assets/js/vms_js/theme-script.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="assets/js/perfect-scrollbar.min.js"></script>
    <script defer src="assets/js/popper.min.js"></script>
    <script defer src="assets/js/tippy-bundle.umd.min.js"></script>
    <script defer src="assets/js/sweetalert.min.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/vms_js/header.js"></script>
    <script src="assets/js/vms_js/scroll-to-topdown.js"></script>
    <script src="assets/js/vms_js/theme-customizer.js"></script>
    <script src="assets/js/vms_js/sidebar-menu-overlay.js"></script>
    <script src="assets/js/vms_js/sidebar.js"></script>
    <script src="assets/js/vms_js/screen-loader.js"></script>
    <script src="assets/js/vms_js/footer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</body>

</html>
